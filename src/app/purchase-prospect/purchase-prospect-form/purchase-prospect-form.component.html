<section class="content-header">
  <h1>
    <small>Cadastro</small>
    Prospecto de Compra
  </h1>
  <app-breadcrumb [items]="[
    ['Início', ''],
    ['Prospecto de Compras', '/purchase-prospect'],
    ['Cadastro das Prospecto de Compras', null]
  ]"></app-breadcrumb>
</section>

<section class="content">
  <div class="row">
    <div class="col-xs-12">
      <form
        (ngSubmit)="save()"
        [formGroup]="form"
        *ngIf="form"
        class="form-horizontal"
      >
        <div class="box">
          <div class="box-header with-border">
            <h3 class="box-title">Dados do prospecto de compras</h3>
          </div>

          <div class="panel-body">
            <fieldset [disabled]="loading">
              <div class="row">
                <div class="col-xs-12">
                  <div
                    class="form-group"
                    appErrorGroup
                  >
                    <label
                      class="control-label col-md-2 text-right"
                      for="code"
                    >
                      Código
                    </label>
                    <div class="col-md-10">
                      <input
                        [formControl]="form.get('code')"
                        type="text"
                        [textMask]="integerMask"
                        class="form-control"
                        maxlength="18"
                        disabled
                      />
                      <app-error-message
                        controlName="code"
                        label="Código"
                      ></app-error-message>
                    </div>
                  </div>

                  <div
                    class="form-group"
                    appErrorGroup
                  >
                    <label
                      class="control-label col-md-2 text-right"
                      for="createdDateString"
                    >
                      Data
                    </label>
                    <div class="col-md-10">
                      <input
                        formControlName="createdDateString"
                        type="text"
                        [textMask]="dateMask"
                        appDatePicker
                        class="form-control"
                        maxlength="10"
                        disabled
                      />
                      <app-error-message
                        controlName="createdDateString"
                        label="Data"
                      ></app-error-message>
                    </div>
                  </div>

                  <div
                    class="form-group"
                    appErrorGroup
                  >
                    <label
                      class="control-label col-md-2 text-right"
                      for="status"
                    >
                      Situação
                    </label>
                    <div class="col-md-10">
                      <input
                        formControlName="status"
                        type="text"
                        class="form-control"
                        disabled
                      />
                      <app-error-message
                        controlName="status"
                        label="Situação"
                      ></app-error-message>
                    </div>
                  </div>

                  <div
                    class="form-group"
                    appErrorGroup
                  >
                    <label
                      class="control-label col-md-2 text-right"
                      for="contractPurchase"
                    >
                      Contrato
                    </label>
                    <div class="col-md-10">
                      <input
                        [formControl]="form.get('contractPurchase')"
                        type="text"
                        class="form-control"
                      />
                      <app-error-message
                        controlName="contractPurchase"
                        label="Contrato"
                      ></app-error-message>
                    </div>
                  </div>

                  <div
                    class="form-group"
                    appErrorGroup
                  >
                    <label
                      class="control-label col-md-2 text-right"
                      for="collaboratorId"
                    >
                      Cooperado
                    </label>
                    <div class="col-md-10">
                      <app-autocomplete [service]="collaboratorAutocomplete"></app-autocomplete>
                      <input
                        type="hidden"
                        formControlName="collaboratorId"
                      />
                      <app-error-message
                        controlName="collaboratorId"
                        label="Cliente"
                      ></app-error-message>
                    </div>
                  </div>

                  <div
                    class="form-group"
                    appErrorGroup
                  >
                    <label
                      class="control-label col-md-2 text-right"
                      for="observation"
                    >
                      Observação
                    </label>
                    <div class="col-md-10">
                      <input
                        [formControl]="form.get('observation')"
                        type="text"
                        class="form-control"
                      />
                      <app-error-message
                        controlName="observation"
                        label="Observação"
                      ></app-error-message>
                    </div>
                  </div>

                </div>
              </div>
            </fieldset>
          </div>
        </div>
        <app-purchase-prospect-batchs
          [purchaseProspect]="purchaseProspect"
          [editable]=true
        >
        </app-purchase-prospect-batchs>

        <!--div class="box-footer"-->
        <div class="row">
          <div class="col-xs-12 mb10">
            <!--div class="col-sm-offset-2">
            <div class="col-sm-10 mb10"-->
            <app-submit-button [loading]="loading">
              SALVAR
            </app-submit-button>
            <a
              [class.disabled]="loading"
              routerLink="/purchase-prospect"
              class="btn btn-default btn-size"
            >
              VOLTAR
            </a>
          </div>
          <!--/div-->
        </div>
        <!--/div-->

      </form>
    </div>
  </div>
</section>
