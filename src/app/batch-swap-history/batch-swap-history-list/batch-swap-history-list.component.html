<div class="new-layout">
  <section class="content-header">
    <app-breadcrumb [items]="[
    ['Início', ''],
    ['Histórico Troca Lotes', null]
  ]"></app-breadcrumb>
    <h1>
      Histórico Troca Lotes
    </h1>
  </section>

  <section class="content">
    <div class="row">
      <div class="col-xs-12">

        <app-batch-swap-history-filter (filterChange)="filterList($event)" [loading]="loading">
        </app-batch-swap-history-filter>

        <div class="box">
          <div class="box-header">
            <div class="box-title">
              Histórico Troca Lotes
            </div>
          </div>

          <div class="box-body">
            <app-loading *ngIf="loading"></app-loading>
            <div *ngIf="!loading">
              <app-no-results *ngIf="!page.data || page.data.length<=0"></app-no-results>
              <div class="table-responsive" *ngIf="page.data && page.data.length>0">
                <table class="table table-striped table-bordered table-hover">
                  <thead>
                    <tr>
                      <th class="col-xs-1" appSort="createdDate" [instance]="page">
                        Data
                      </th>
                      <th class="col-xs-1" appSort="userName" [instance]="page">
                        Usuário
                      </th>
                      <th class="col-xs-1">
                        Motivo
                      </th>
                      <th class="col-xs-1" appSort="type" [instance]="page">
                        Tipo
                      </th>
                      <th class="col-xs-2">
                        Cliente
                      </th>
                      <th class="col-xs-1">
                        Tag
                      </th>
                      <th class="col-xs-2">
                        Lote de Origem
                      </th>
                      <th class="col-xs-2">
                        Lote de Destino
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let batchSwap of page.data">

                      <td>{{batchSwap.createdDateString}}</td>
                      <td>{{batchSwap.userName}}</td>
                      <td>{{batchSwap.description}}</td>
                      <td>{{batchSwap.swapType.name}}</td>
                      <td>{{batchSwap.destinationBatch.owner.person.name}}</td>
                      <td>{{batchSwap.tag.tagCode}}</td>
                      <td>{{batchSwap.originBatch.batchCode}}</td>
                      <td>{{batchSwap.destinationBatch.batchCode}}</td>

                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="text-right">
                <app-pagination *ngIf="!loading" [instance]="page"></app-pagination>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

<!--  <app-confirm *ngIf="deleteConfirm.opened" message="Tem certeza que deseja excluir este registro?"-->
<!--    (confirm)="delete(deleteConfirm.value)" (close)="deleteConfirm.close()">-->
<!--  </app-confirm>-->

<!--  <app-confirm *ngIf="cancelConfirm.opened" message="Tem certeza que deseja cancelar este registro?"-->
<!--               (confirm)="cancelTransfer(cancelConfirm.value)" (close)="cancelConfirm.close()">-->
<!--  </app-confirm>-->
</div>
