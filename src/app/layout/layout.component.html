<div class="hold-transition sidebar-mini">
  <div>
    <header class="main-header">
      <a routerLink="/dashboard" class="logo">
        <span class="logo-mini">  <img src="./assets/img/agrotopus-small-logo-white.png"/></span>
        <span class="logo-lg"><img src="./assets/img/logo-login.png"/></span>
      </a>

      <nav class="navbar navbar-static-top">
        <a href="javascript:" (click)="appState.toggleMenu()" class="sidebar-toggle" data-toggle="offcanvas" role="button">
          <span class="sr-only">Toggle navigation</span>
        </a>

        <div class="navbar-custom-menu">
          <ul class="nav navbar-nav">
            <li>
              <app-automation-semaphore></app-automation-semaphore>
            </li>            
            <li>
              <span style="margin-right: 5px; margin-left:0px;" class="navbar-text">
                Automação
              </span>
            </li>
            <li>
              <span class="navbar-text">
                v{{ version }}
              </span>
            </li>
            <li class="dropdown user user-menu">
              <a href="#" style="padding-bottom: 0px; padding-top: 5px" class="dropdown-toggle" data-toggle="dropdown">
                <span *ngIf="auth.authenticated && !auth.hasWarehouse" class="name">
                    {{ auth.accessToken.user.name }}
                </span>
                <span *ngIf="auth.authenticated && auth.hasWarehouse" class="name">
                  {{ auth.accessToken.user.name }} <br/>
                  <small>{{ auth.accessToken.warehouse.name }}</small>
                </span>
                <span class="arrow-user-menu"><i class="fa fa-angle-down"></i></span>
              </a>
              <ul class="dropdown-menu">
                <li class="user-body">
                  <a href="javascript:" class="btn btn-app-v2 text-left" routerLink="/login/warehouse"><span class="fa fa-edit"></span> Trocar de armazém </a>
                  <a href="javascript:" class="btn btn-app-v2 text-left" routerLink="/password-change"><span class="fa fa-exchange"></span> Alterar senha </a>
                  <a href="javascript:" class="btn btn-app-v2 text-left" (click)="logoff()"><span class="fa fa-sign-out"></span> Sair </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <aside
      [hidden]="!appState.menuVisible"
      class="main-sidebar">
      <app-menu></app-menu>
    </aside>

    <div
      class="content-wrapper"
      [ngStyle] = "{
        'margin-left.px': appState.menuVisible ? '230' : '0'
      }"
    >
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

