<section class="content-header">
  <h1>
    Estoque nos Silos
  </h1>
  <app-breadcrumb [items]="[
    ['Início', ''],
    ['Estoque nos Silos', null]
  ]"></app-breadcrumb>
</section>

<section class="content">
  <div class="row">
    <div class="col-xs-12">
      <div class="box">
        <div class="box-header with-border">
          <h3 class="box-title">Silos de Armazenamento</h3>
        </div>

        <div class="box-body">

          <app-loading *ngIf="loading"></app-loading>
          <div *ngIf="!loading">
            <app-no-results *ngIf="!storageSilos || storageSilos.length<=0"></app-no-results>
            <div class="table-responsive" *ngIf="storageSilos && storageSilos.length>0">
              <table class="table table-striped table-bordered table-hover">
                <thead>
                  <tr>
                    <th class="text-center">
                      Silo
                    </th>
                    <th class="text-center">
                      Total Armazenado
                    </th>
                    <th class="text-center">
                      Detalhes dos lotes
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <ng-container *ngFor="let sSilo of storageSilos let i=index">
                    <tr>
                      <td class="text-center">{{sSilo.name}}</td>
                      <td class="text-center">{{getTotalByStorageUnitBatches(sSilo.sotageUnitBatches)}}</td>
                      <td>
                        <div style="max-height:140px; overflow:auto;">
                          <p *ngFor="let sub of sSilo.sotageUnitBatches">
                            {{sub.batch.batchCode}} - {{sub.quantity}}
                          </p>
                        </div>
                      </td>
                    </tr>
                  </ng-container>

                </tbody>
              </table>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12">
      <div class="box">
        <div class="box-header">
          <div class="box-title">Silos Pulmão</div>
        </div>

        <div class="box-body">

          <app-loading *ngIf="loading"></app-loading>
          <div *ngIf="!loading">
            <app-no-results *ngIf="!lungSilos || lungSilos.length<=0"></app-no-results>
            <div class="table-responsive" *ngIf="lungSilos && lungSilos.length>0">
              <table class="table table-striped table-bordered table-hover">
                <thead>
                  <tr>
                    <th class="text-center">
                      Silo
                    </th>
                    <th class="text-center">
                      Total Armazenado
                    </th>
                    <th class="text-center">
                      Detalhes dos lotes
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <ng-container *ngFor="let lSilo of lungSilos let i=index">
                    <tr>
                      <td class="text-center">{{lSilo.name}}</td>
                      <td class="text-center">{{getTotalByStorageUnitBatches(lSilo.sotageUnitBatches)}}</td>
                      <td>
                        <div style="max-height:140px; overflow:auto;">
                          <p *ngFor="let sub of lSilo.sotageUnitBatches">
                            {{sub.batch.batchCode}} - {{sub.quantity}}
                          </p>
                        </div>
                      </td>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>